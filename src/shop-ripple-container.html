<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-behaviors/paper-ripple-behavior.html">

<dom-module id="shop-ripple-container">
  <template strip-whitespace="">
    <style>
      :host {
        display: inline-block;
        position: relative;
      }

      paper-ripple {
        color: var(--app-accent-color);
      }
    </style>
    <slot></slot>
  </template>
  <script>var ShopRippleContainer =
/*#__PURE__*/
function (_Polymer$mixinBehavio) {
  babelHelpers.inherits(ShopRippleContainer, _Polymer$mixinBehavio);
  babelHelpers.createClass(ShopRippleContainer, null, [{
    key: "is",
    get: function get() {
      return 'shop-ripple-container';
    }
  }]);

  function ShopRippleContainer() {
    var _this;

    babelHelpers.classCallCheck(this, ShopRippleContainer);
    _this = babelHelpers.possibleConstructorReturn(this, (ShopRippleContainer.__proto__ || Object.getPrototypeOf(ShopRippleContainer)).call(this));
    _this._isDown = false;
    return _this;
  }

  babelHelpers.createClass(ShopRippleContainer, [{
    key: "ready",
    value: function ready() {
      var _this2 = this;

      babelHelpers.get(ShopRippleContainer.prototype.__proto__ || Object.getPrototypeOf(ShopRippleContainer.prototype), "ready", this).call(this);
      this.addEventListener('focus', function (e) {
        return _this2._onFocus(e);
      }, true);
      this.addEventListener('blur', function (e) {
        return _this2._onBlur(e);
      }, true);
      Polymer.Gestures.addListener(this, 'down', this._rippleDown);
      Polymer.Gestures.addListener(this, 'up', this._rippleUp);
    }
  }, {
    key: "_onFocus",
    value: function _onFocus(event) {
      // Prevent second ripple when clicking causes both focus and down.
      if (!this._isDown) {
        this._rippleDown(event);
      }
    }
  }, {
    key: "_onBlur",
    value: function _onBlur(event) {
      this._rippleUp(event);
    }
  }, {
    key: "_rippleDown",
    value: function _rippleDown(event) {
      this._isDown = true;
      this.getRipple().downAction(event);
    }
  }, {
    key: "_rippleUp",
    value: function _rippleUp(event) {
      this._isDown = false;
      this.getRipple().upAction(event);
    }
  }]);
  return ShopRippleContainer;
}(Polymer.mixinBehaviors([Polymer.PaperRippleBehavior], Polymer.Element));

customElements.define(ShopRippleContainer.is, ShopRippleContainer);</script>
</dom-module>
